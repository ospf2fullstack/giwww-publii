<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>CDP Neighbor - 6.2.2019 - Gary Innerarity</title><meta name="description" content="Technology: CDP Neighbor What does this technology do? CDP Neighbor is used to identify directly connected devices on a Cisco system. Use case? If you don't have physical access to an adjacent switch, you can use CDP Neighbor to identify the device on a specific port. Basic&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://publii.garyinnerarity.com/cdp-neighbor-622019/"><link rel="amphtml" href="https://publii.garyinnerarity.com/amp/cdp-neighbor-622019/"><link rel="alternate" type="application/atom+xml" href="https://publii.garyinnerarity.com/feed.xml"><link rel="alternate" type="application/json" href="https://publii.garyinnerarity.com/feed.json"><meta property="og:title" content="CDP Neighbor - 6.2.2019"><meta property="og:image" content="https://publii.garyinnerarity.com/media/website/Site-Logo-2.png"><meta property="og:site_name" content="Gary Innerarity"><meta property="og:description" content="Technology: CDP Neighbor What does this technology do? CDP Neighbor is used to identify directly connected devices on a Cisco system. Use case? If you don't have physical access to an adjacent switch, you can use CDP Neighbor to identify the device on a specific port. Basic&hellip;"><meta property="og:url" content="https://publii.garyinnerarity.com/cdp-neighbor-622019/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@ospf2fullstack"><meta name="twitter:title" content="CDP Neighbor - 6.2.2019"><meta name="twitter:description" content="Technology: CDP Neighbor What does this technology do? CDP Neighbor is used to identify directly connected devices on a Cisco system. Use case? If you don't have physical access to an adjacent switch, you can use CDP Neighbor to identify the device on a specific port. Basic&hellip;"><meta name="twitter:image" content="https://publii.garyinnerarity.com/media/website/Site-Logo-2.png"><link rel="stylesheet" href="https://publii.garyinnerarity.com/assets/css/style.css?v=08042fa161ed0afdadab65e17096ecea"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://publii.garyinnerarity.com/cdp-neighbor-622019/"},"headline":"CDP Neighbor - 6.2.2019","datePublished":"2019-06-02T14:29","dateModified":"2022-10-13T09:57","image":{"@type":"ImageObject","url":"https://publii.garyinnerarity.com/media/website/Site-Logo-2.png","height":876,"width":1580},"description":"Technology: CDP Neighbor What does this technology do? CDP Neighbor is used to identify directly connected devices on a Cisco system. Use case? If you don't have physical access to an adjacent switch, you can use CDP Neighbor to identify the device on a specific port. Basic&hellip;","author":{"@type":"Person","name":"Gary Innerarity","url":"https://publii.garyinnerarity.com/authors/gary-innerarity/"},"publisher":{"@type":"Organization","name":"Gary Innerarity","logo":{"@type":"ImageObject","url":"https://publii.garyinnerarity.com/media/website/Site-Logo-2.png","height":876,"width":1580}}}</script></head><body><header class="topbar" id="js-header"><div class="topbar__inner"><a class="logo" href="https://publii.garyinnerarity.com/"><img src="https://publii.garyinnerarity.com/media/website/Site-Logo-2.png" alt="Gary Innerarity" width="1580" height="876"></a><nav class="navbar"><button class="navbar__toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://publii.garyinnerarity.com/" target="_self">Home</a></li><li><a href="https://publii.garyinnerarity.com/tags/" target="_self">Categories</a></li></ul></nav></div></header><div class="content"><div class="infobar"><div class="infobar__update">Last Updated: <time datetime="2022-10-13T10:06">October 13, 2022</time></div><div class="infobar__search"></div></div><main class="main"><article class="post"><header class="u-header post__header"><h1>CDP Neighbor - 6.2.2019</h1><div class="u-header__meta u-small"><div><a href="https://publii.garyinnerarity.com/authors/gary-innerarity/" title="Gary Innerarity">Gary Innerarity</a> <time datetime="2019-06-02T14:29">June 2, 2019</time></div></div></header><div class="post__entry u-inner"><p></p><p>Technology: <strong>CDP Neighbor</strong></p><p></p><p></p><p>What does this technology do? <strong>CDP Neighbor is used to identify directly connected devices on a Cisco system.  </strong></p><p></p><p></p><p>Use case? <strong>If you don't have physical access to an adjacent switch, you can use CDP Neighbor to identify the device on a specific port. </strong></p><p></p><p></p><pre class="wp-block-code"><code>Basic Command:<restore-line-break>#show cdp neighbors<restore-line-break><restore-line-break>Full Command:<restore-line-break>#show cdp neighbors [ interface { ethernet slot/port | mgmt mgt-num}][ detail]</restore-line-break></restore-line-break></restore-line-break></restore-line-break></code></pre><p></p><p></p><ul><li>interface - Shows CDP neighbor info for that specified interface. </li><li>ethernet - Shows CDP neighbor info for an Ethernet interface. </li><li>mgmt - Shows CDP neighbor info for management interface. </li><li>detail - Shows the detailed information about CDP neighbors. </li></ul><p></p><p></p><p>My lab: </p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-282"><img loading="lazy" src="https://publii.garyinnerarity.com/media/posts/35/cdpneighbors.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://publii.garyinnerarity.com/media/posts/35/responsive/cdpneighbors-xs.png 300w, https://publii.garyinnerarity.com/media/posts/35/responsive/cdpneighbors-sm.png 480w, https://publii.garyinnerarity.com/media/posts/35/responsive/cdpneighbors-md.png 768w, https://publii.garyinnerarity.com/media/posts/35/responsive/cdpneighbors-lg.png 1024w, https://publii.garyinnerarity.com/media/posts/35/responsive/cdpneighbors-xl.png 1360w, https://publii.garyinnerarity.com/media/posts/35/responsive/cdpneighbors-2xl.png 1600w" alt=""></figure></figure><p></p><p></p><p>How I used it: </p><p></p><p></p><p>In todays lab, we will use CDP Neighbor commands to determine which devices are directly connected to the MainDistribution switch from within the CLI of the MainDistribution.  It's obvious that the AccessLayer switch and the EdgeRouter are directly connected, however, we are not always working in lab environments. In a real world application, the AccessLayer switch may be several hundred feet away. Understanding CDP Neighbor commands will help us determine the exact adjacently attached devices that we have in our network. </p><p></p><p></p><p>To start, I started all of my network devices. Once booted, I decided to login and run the CDP Neighbor command</p><p></p><p></p><pre class="wp-block-code"><code>#show cdp neighbors</code></pre><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-281"><img loading="lazy" src="https://publii.garyinnerarity.com/media/posts/35/image.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://publii.garyinnerarity.com/media/posts/35/responsive/image-xs.png 300w, https://publii.garyinnerarity.com/media/posts/35/responsive/image-sm.png 480w, https://publii.garyinnerarity.com/media/posts/35/responsive/image-md.png 768w, https://publii.garyinnerarity.com/media/posts/35/responsive/image-lg.png 1024w, https://publii.garyinnerarity.com/media/posts/35/responsive/image-xl.png 1360w, https://publii.garyinnerarity.com/media/posts/35/responsive/image-2xl.png 1600w" alt=""></figure></figure><p></p><p></p><p>From here you can see the "Local Intrfce" and the "Port ID". The Local Interface identifies the current switch that you are currently working on and the port that is locally attached to the remote device. The Port ID identifies the remote device port number. So, MainDistribution (Gig 02 from the "Local Intrfce") is directly connected to the AccessLayer (Gig2/1 from the Port ID) switch. </p><p></p><p></p><p>Now, you may be asking, how do you know that the adjacent device is the "AccessLayer"? Well, based on the previous image, you cannot unless you know the environment very well. Let me explain. </p><p></p><p></p><p>The "Device ID" column shows the adjacent device "Hostname". If the hostname is configured and you understand the name, then you will be able to identify the adjacent switch. Take a look: </p><p></p><p></p><figure class="wp-block-image"><figure class="wp-image-280"><img loading="lazy" src="https://publii.garyinnerarity.com/media/posts/35/image.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://publii.garyinnerarity.com/media/posts/35/responsive/image-xs.png 300w, https://publii.garyinnerarity.com/media/posts/35/responsive/image-sm.png 480w, https://publii.garyinnerarity.com/media/posts/35/responsive/image-md.png 768w, https://publii.garyinnerarity.com/media/posts/35/responsive/image-lg.png 1024w, https://publii.garyinnerarity.com/media/posts/35/responsive/image-xl.png 1360w, https://publii.garyinnerarity.com/media/posts/35/responsive/image-2xl.png 1600w" alt=""></figure></figure><p></p><p></p><p>I changed the hostname of the adjacent device so that you can see the difference between screenshots. In my first image, the Device ID said "Switch", which is the default hostname. Since I changed it, you can now see "AccessLayer" as the Device ID for the connected device. </p><p></p><p></p><p>Now that you can identify the adjacent device, the local port number and the adjacent port number, we can now spend some time to understand the "Holdtme" column and what to do if the CDP command isn't showing anything. </p><p></p><p></p><p>"Holdtme" means Hold Time, this is the length of time that the switch will hold that information before it discards it. You can use the following command to specify the time (Default = 180s). (Think "Time To Live") </p><p></p><p></p><pre class="wp-block-code"><code>(config)#CDP holdtime &lt;60&gt;</code></pre><p></p><p></p><p>I personally prefer the shorter times, but if you have a ton of management traffic, you can cause CPU/RAM overload... You can always set the time when you are troubleshooting and reset it when you're done. <br>Finally, if CDP neighbors is not working, you may need to enable it on your devices. This is a very easy command.  </p><p></p><p></p><pre class="wp-block-code"><code>(config)#CDP enable</code></pre><p></p><p></p><hr class="wp-block-separator"><p></p><p></p><p>Reference:</p><p></p><p></p><p><a href="https://www.cisco.com/c/en/us/td/docs/ios/12_2/configfun/command/reference/ffun_r/frf015.html">Cisco.com</a></p><p></p></div><aside class="post__aside"><div class="post__last-updated u-small">This article was updated on October 13, 2022</div><div class="post__share"><a href="https://twitter.com/share?url=https%3A%2F%2Fpublii.garyinnerarity.com%2Fcdp-neighbor-622019%2F&amp;via=%40ospf2fullstack&amp;text=CDP%20Neighbor%20-%206.2.2019" class="js-share twitter" title="Share with Twitter" rel="nofollow noopener noreferrer" aria-label="Share with Twitter"><svg class="u-icon"><use xlink:href="https://publii.garyinnerarity.com/assets/svg/svg-map.svg#twitter"/></svg></a></div></aside><footer class="post__footer"><div class="post__bio box"><div><h4 class="h6"><a href="https://publii.garyinnerarity.com/authors/gary-innerarity/" title="Gary Innerarity">Gary Innerarity</a></h4></div></div><nav class="post__nav box"><div class="post__nav__prev"><a href="https://publii.garyinnerarity.com/duplicate-ip-5272019/" class="post__nav__link" rel="prev"><div class="u-small">Previous Post<h5>Duplicate IP! - 5.27.2019</h5></div></a></div><div class="post__nav__next"><a href="https://publii.garyinnerarity.com/objective-study-partner/" class="post__nav__link" rel="next"><div class="u-small">Next Post<h5>Objective Study Partner</h5></div></a></div></nav></footer></article></main><div class="sidebar"><section class="box authors"><h3 class="box__title">Authors</h3><ul class="authors__cotainer"><li class="authors__item"><div><a href="https://publii.garyinnerarity.com/authors/gary-innerarity/" class="authors__title">Gary Innerarity</a></div></li></ul></section></div><footer class="footer"><a class="footer__logo" href="https://publii.garyinnerarity.com/"><img src="https://publii.garyinnerarity.com/media/website/Site-Logo-2.png" alt="Gary Innerarity" width="1580" height="876"></a><nav><ul class="footer__nav"></ul></nav><div class="footer__copyright"><p>Proudly created with Publii and published globally with Github and CloudFlare.</p></div></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://publii.garyinnerarity.com/assets/js/scripts.min.js?v=ef33954c8f912e6c18ee116825aadc90"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script></body></html>